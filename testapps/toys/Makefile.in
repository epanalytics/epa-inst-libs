CC          = @CC@
CXX         = @CXX@
FC          = @FC@
MPICC       = @MPICC@

BINDIR      = ../../src
EXECDIR     = bin

OBJS        = foo.o bar.o dum.o main.o
OBJSCPP	    = classes.o
EXTRA_INC   = -I../../instcode
EXTRA_LIBS  = -lm

TARGETS  = createDir $(EXECDIR)/cTest $(EXECDIR)/cppTest $(EXECDIR)/fTest $(EXECDIR)/dynTest $(EXECDIR)/sgTest

all: $(TARGETS) 
	echo $(TARGETS)
%.o: %.c
	$(CC) -g -c -o $@ $< 

%.o: %.C
	$(CXX) -g -c -o $@ $< 

$(EXECDIR)/cTest: $(OBJS)
	$(CC) -g -o $@ $(OBJS)

$(EXECDIR)/cppTest: $(OBJSCPP)
	$(CXX) -g -o $@ $(OBJSCPP)

$(EXECDIR)/fTest:
	$(FC) -g -o $@ fTest.f

$(EXECDIR)/dynTest:
	$(CC) -g -o $@ dynTest.c

$(EXECDIR)/sgTest:
	$(CC) -g -o $@ sgTest.c $(EXTRA_INC) $(EXTRA_LIBS)

createDir:
	mkdir -p $(EXECDIR)

check: $(TARGETS)
NULL_FILE = /dev/null

clean: 
	rm -f *.o $(TARGETS)
